{"version":3,"file":"static/js/135.fe0b8bf0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsContainer\":\"MovieDetails_movieDetailsContainer__hxmcN\",\"image\":\"MovieDetails_image__c1FeV\",\"movieDetailsWrap\":\"MovieDetails_movieDetailsWrap__4MDms\",\"goBackLink\":\"MovieDetails_goBackLink__0L6Dl\",\"addInfo\":\"MovieDetails_addInfo__lKFr+\",\"linkList\":\"MovieDetails_linkList__767FF\",\"link\":\"MovieDetails_link__U+v+7\"};","import React, { useEffect, useState, Suspense } from 'react';\nimport { useParams, Link, Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport { fetchMovieDetails } from 'services/API';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate()\n\n  const location = useLocation();\n\n  const prevLocation = location.state?.from;\n  const goBack = location.state?.from ?? '/movies';\n\n  useEffect(() => {\n    const movieDetail = async () => {\n      try {\n        const fetchedMovieDetails = await fetchMovieDetails(movieId);\n        setMovieDetails(fetchedMovieDetails);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        navigate('*')\n      }\n    };\n\n    movieDetail();\n  }, [movieId, navigate]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <>\n      <Link to={goBack} className={css.goBackLink}>\n        â¬… Go Back\n      </Link>\n\n      <div className={css.movieDetailsContainer}>\n        <img\n          src={\n            movieDetails.poster_path\n              ? `https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`\n              : `https://fakeimg.pl/600x400?text=No+Image+Available`\n          }\n          alt={movieDetails.title}\n          className={css.image}\n        />\n        <div className={css.movieDetailsWrap}>\n          <h1>{movieDetails.title}</h1>\n          <h4>User score: {Math.round(movieDetails.vote_average * 10)}%</h4>\n          <h2>Overview</h2>\n          <p>{movieDetails.overview}</p>\n          <h2>Genres</h2>\n          <p>\n            {movieDetails.genres.map(genre => (\n              <span key={genre.id}> {genre.name}</span>\n            ))}\n          </p>\n        </div>\n      </div>\n      <div className={css.addInfo}>\n        <h3>Additional information</h3>\n        <ul className={css.linkList}>\n          <li>\n            <Link to=\"cast\" className={css.link} state={{ from: prevLocation }}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link\n              to=\"reviews\"\n              className={css.link}\n              state={{ from: prevLocation }}\n            >\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from \"axios\";\n\nconst API_KEY = '9a93fafee80d0eeb785aed4df0b34b19';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(`trending/movie/day`);\n  return response.data.results;\n};\n\nexport const fetchMovieByQuery = async movieName => {\n  const response = await axios.get(`search/movie?query=${movieName}`);\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(`movie/${movieId}`);\n  return response.data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(`movie/${movieId}/credits?`);\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(`movie/${movieId}/reviews?`);\n  return response.data.results;\n};\n"],"names":["_location$state","_location$state$from","_location$state2","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","loading","setLoading","navigate","useNavigate","location","useLocation","prevLocation","state","from","goBack","useEffect","movieDetail","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","fetchedMovieDetails","_context","prev","next","fetchMovieDetails","sent","t0","console","log","stop","apply","arguments","_jsx","children","_jsxs","_Fragment","Link","to","className","css","src","poster_path","concat","alt","title","Math","round","vote_average","overview","genres","map","genre","name","id","Suspense","fallback","Outlet","axios","api_key","fetchTrendingMovies","response","abrupt","data","results","fetchMovieByQuery","_ref2","_callee2","movieName","_context2","_x","_ref3","_callee3","_context3","_x2","fetchMovieCast","_ref4","_callee4","_context4","cast","_x3","fetchMovieReviews","_ref5","_callee5","_context5","_x4"],"sourceRoot":""}